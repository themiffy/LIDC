# Программа исполняющая алгоритм математической обработки гибридных исследований ОФЭКТ/КТ лёгких.
Цель создания ПО - возможность демонстрации алгоритма по математической обработке медицинских данных, созданного в результате научно исследовательской работы по теме "Математическая обработка гибридных исследований ОФЭКТ/КТ лёгких". Алгоритм сегментирует лёгкие на доли с помощю свёрточной нейронной сети и вычисляет накопление РФП в каждой доле.

# Требования

1. Поддержка работы с DICOM файлами и обычными графическими форматами (jpeg, png, tiff).
2. Достаточно высокая точность в определении долей лёгких, для корректного расчёта накопления РФП в них.
3. Выполнение за приемлемое время (никак не больше 5ти секунд, необходимо стремиться к 1 секунде).
4. Отображение полученных диагностических характеристик.

# Порядок использования программы

1. Пользователь запускает программу.
2. Программа запрашивает файл КТ исследования и соответствующий ему файл ОФЭКТ исследования.
3. Пользователь выбирает файлы с результатами исследований.
4. После подтверждения программа выполняет алгоритмы.
5. Пользователь получает окно с результатами работы алгоритма:
   - изображение КТ;
   - маска сегмнтов;
   - совмещённое изображение ОФЭКТ/КТ;
   - текстовые поля с количеством РФП в каждом сегменте и общим количеством.

![alt text](https://github.com/themiffy/LIDC-Unet/blob/main/Frame%201.png)

# Архитектура программы

Для обеспечения возможности модификации кода программы, поддержания внутреннего порядка в программе и повышения её надёжности, принято решение разделить программу на модули и функции внутри них. 

Программа должна состоять из следующих модулей: 
  - главный модуль;
  - модуль загрузки и предобработки данных;
  - модуль сегментации;
  - модуль комбинирования и обработки данных;
  - модуль вывода.

![alt text](https://github.com/themiffy/LIDC-Unet/blob/main/Frame%202.png)
Требования к архитектуре:

   1. Модули должны быть максимально независимыми.
   2. Каждый модуль должен улавливать свои ошибки и исключения и возвращать их для возможности локализации ошибки.
   3. Входные данные на каждом этапе должны быть валидированны.

# Модули подробно (wip):

...

# Стадии работы над программой

   1. Разработка алгоритма сегментации (итерационно):
      - выбор модели сети и данных для обучения;
      - разметка данных;
      - разработка программы для обучения сети;
      - настройка модели для получения наилучших результатов.
   2. Разработка алгоритма совмещения и обработки изображений:
      - выбор метода совмещения изобращений;
      - создание алгоритма расчёта диагностических данных;
      - возвращение данных
   3. Разработка модуля загрузки занных:
      - загрузка данных разных форматов (DICOM, png, jpeg) и преобразование к единому виду;
      - изменение разрешения изображений;
      - конвертация в одноканальные изображения.
   4. Разработка модуля вывода данных:
      - проектирование дизайна;
      - исполнение.
   5. Разработка главного модуля.
   6. Тестирование программы.

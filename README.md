# Программа исполняющая алгоритм математической обработки гибридных исследований ОФЭКТ/КТ лёгких.
Цель создания ПО - разработка и демонстрация алгоритма по математической обработке медицинских данных, который будет создан в результате научно исследовательской работы по теме "Математическая обработка гибридных исследований ОФЭКТ/КТ лёгких". Алгоритм должен сегментировать лёгкие на доли с помощю свёрточной нейронной сети и вычислять накопление РФП в каждой доле.

# Требования к программе

1. Поддержка работы с DICOM файлами и обычными графическими форматами (jpeg, png, tiff).
2. Достаточно высокая точность в определении долей лёгких (значение метрики accuracy > 0.90), для корректного расчёта накопления РФП в них.
3. Отображение полученных диагностических характеристик.

# Порядок использования программы

1. Пользователь запускает программу.
2. Программа запрашивает файл КТ исследования и соответствующий ему файл ОФЭКТ исследования.
3. Пользователь выбирает файлы с результатами исследований.
4. После подтверждения программа выполняет алгоритмы.
5. Пользователь получает окно с результатами работы алгоритма:
   - изображение КТ;
   - маска сегментов;
   - совмещённое изображение ОФЭКТ/КТ;
   - текстовые поля с количеством РФП в каждом сегменте и общим количеством.

![alt text](https://github.com/themiffy/LIDC-Unet/blob/main/Frame%201.png)

# Архитектура программы

Для обеспечения возможности модификации кода программы, поддержания внутреннего порядка в программе и повышения её надёжности, принято решение разделить программу на модули и функции внутри них. 

Программа должна состоять из следующих модулей: 
  - главный модуль;
  - модуль загрузки и предобработки данных;
  - модуль сегментации;
  - модуль комбинирования и обработки данных;
  - модуль вывода.

![alt text](https://github.com/themiffy/LIDC-Unet/blob/main/Frame%202.png)
Требования к архитектуре:

   1. Модули должны быть максимально независимыми.
   2. Каждый модуль должен улавливать свои ошибки и исключения и возвращать их для возможности локализации ошибки.
   3. Входные данные на каждом этапе должны быть валидированны.

# Модули подробно (wip):

...

# Стадии разработки программы и сроки выполнения

   1. Разработка алгоритма сегментации: [01.05.2022]
      1.1 Разработка и обучение модели для сегментации: [01.05.2022]
         - выбор модели сети и данных для обучения; ✅ [12.12.2020]
         - разметка данных; (⚠️ готово частично) [01.05.2022]
         - разработка программы для обучения сети; ✅ [05.05.2021]
         - настройка модели для получения наилучших результатов. [01.05.2022]
       1.2 Разработка модуля, использующего обученную модель. [01.05.2022]
   2. Разработка модуля загрузки занных: [01.09.2021]
      - загрузка данных разных форматов (DICOM, png, jpeg) и преобразование к единому виду; ✅ [05.05.2021]
      - изменение разрешения изображений; ✅ [12.05.2021]
      - конвертация в одноканальные изображения. ✅ [13.05.2021]
   3. Разработка алгоритма совмещения и обработки изображений: [12.12.2021]
      - выбор и реализация метода совмещения изобращений; [1.12.2021]
      - создание алгоритма расчёта диагностических данных; [10.12.2021]
      - возвращение данных. [12.12.2021]
   4. Разработка модуля вывода данных: [10.05.2022]
      - проектирование дизайна; [08.05.2022]
      - исполнение. [10.05.2022]
   5. Разработка главного модуля. [01.06.2022]
   6. Тестирование программы. [02.06.2022]
